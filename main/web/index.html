<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ESP32 Configuration</title>
  <link rel="stylesheet" href="index.css">
</head>
<body>
  <header>
     <h1>ESP32 Configuration</h1>
  </header>
  <main>
    <div class="tabs">
        <button class="tab-button active" data-tab="mqtt">MQTT</button>
        <button class="tab-button" data-tab="ble">BLE</button>
        <button class="tab-button" data-tab="login">Login</button>
        <button class="tab-button" data-tab="system">System</button>
    </div>
    <div id="mqtt" class="tab-content active">
     <h2>MQTT Configuration</h2>
      <form id="mqtt-form">
        <div class="form-group">
          <label for="broker">Broker URL:</label>
          <input type="text" id="broker" name="broker" minlength="3" maxlength="63" required>
        </div>
        <div class="form-group">
          <label for="prefix">Discovery Prefix:</label>
          <input type="text" id="prefix" name="prefix" maxlength="31">
        </div>
        <div class="form-group">
          <label for="user">Username:</label>
          <input type="text" id="user" name="user" maxlength="31">
        </div>
        <div class="form-group">
          <label for="pass">Password:</label>
          <input type="password" id="pass" name="pass" maxlength="31">
        </div>
        <input type="submit" value="Save & apply MQTT configuration">
      </form>
      <p id="mqtt-status"></p>
    </div>
    <div id="ble" class="tab-content">
     <h2>BLE Configuration</h2>
     <form id="ble-form">
      <div class="form-group">
        <label for="device_name">Device name:</label>
        <input type="text" id="device_name" name="device_name" maxlength="31">
      </div>
      <input type="submit" value="Save & apply BLE configuration">
     </form>
     <p id="ble-status"></p>
    </div>
    <div id="login" class="tab-content">
     <h2>Login Configuration</h2>
     <form id="set-login-form">
      <div class="form-group">
        <label for="new_name">New username:</label>
        <input type="text" id="new_name" name="new_name" minlength="4" maxlength="15" required>
      </div>
      <div class="form-group">
        <label for="new_pass">New password:</label>
        <input type="password" id="new_pass" name="new_pass" minlength="4" maxlength="15" required>
      </div>
      <input type="submit" value="Save new login">
     </form>
     <p id="set-login-status"></p>
    </div>
  <div id="system" class="tab-content">
    <h2>System Metrics</h2>
    <div class="progress-container">
      <div id="heap-bar" class="progress-bar">
        <span id="heap-text">0% used (0 / 0 bytes)</span>
      </div>
    </div>
    <p>Min Free: <span id="min_heap"></span> bytes</p>
    <p>Uptime: <span id="uptime"></span></p>
  </div>
  </main>
   <script src="index.js"></script>
</body>
</html>
